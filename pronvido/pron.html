<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>视频播放列表</title>
    <style>
        #videoPlayerContainer {
            display: none; /* 初始隐藏视频播放器 */
            margin-top: 20px;
        }
        .video-item {
            cursor: pointer;
            margin-bottom: 10px;
            color: blue;
            text-decoration: underline;
        }
        .video-item:hover {
            color: darkblue;
        }
    </style>
</head>
<body>

<h2>视频播放列表</h2>
<div id="videoList"></div>

<div id="videoPlayerContainer">
    <video id="videoPlayer" width="600" controls>
        <source id="videoSource" src="" type="video/mp4">
        您的浏览器不支持视频播放。
    </video>
</div>

<script>
    // 加载 links.json 文件并生成视频列表
    fetch('links.json')
        .then(response => response.json())
        .then(data => {
            const videoList = document.getElementById('videoList');
            const videoPlayerContainer = document.getElementById('videoPlayerContainer');
            const videoPlayer = document.getElementById('videoPlayer');
            const videoSource = document.getElementById('videoSource');

            data.forEach(video => {
                // 创建视频列表项
                const videoItem = document.createElement('div');
                videoItem.classList.add('video-item');
                videoItem.textContent = video.title;
                
                // 点击时显示播放器并更改视频源
                videoItem.onclick = () => {
                    videoSource.src = video.url;
                    videoPlayer.load(); // 重新加载视频
                    videoPlayerContainer.style.display = 'block'; // 显示视频播放器
                    videoPlayer.play(); // 播放视频
                };
                
                videoList.appendChild(videoItem);
            });
        })
        .catch(error => {
            console.error('Error loading video list:', error);
        });
</script>

</body>
</html>
